(function(){return window.AutomizyGlobalPlugins=window.AutomizyGlobalPlugins||{i:0},window.AutomizyGlobalZIndex=window.AutomizyGlobalZIndex||2e3,window.AutomizyMenu=window.$AM=new function(){var a=this;a.version="0.1.1",a.elements={},a.dialogs={},a.inputs={},a.buttons={},a.forms={},a.functions={},a.xhr={},a.modules={},a.menuItems=[],a.subMenuList={},a.config={dir:".",url:"https://app.automizy.com"},a.m={},a.d={}},$AM})(),function(){var a=function(){var a=this;a.d={plugins:[],loadedPluginsCount:0,allPluginsCount:0,globalPluginsCount:0,loadedGlobalPluginsCount:0,completeFunctionReady:true,completeFunctions:[]}};var b=a.prototype;b.addPlugin=function(a){return this.addPlugins([a])},b.plugins=b.addPlugins=function(a){var b=this;if("undefined"!==typeof a){for(var c=0;c<a.length;c++){var d=a[c];if(d.skipCondition=d.skipCondition||false,d.complete=d.complete||function(){},d.css=d.css||[],d.js=d.js||[],d.name=d.name||"automizy-plugin-"+ ++AutomizyGlobalPlugins.i,"string"===typeof d.css)d.css=[d.css];if("string"===typeof d.js)d.js=[d.js];b.d.plugins.push(d)}return b}return b.d.plugins},b.pluginThen=function(a){var b=this;b.d.loadedPluginsCount++;for(var c=0;c<a.completeFunctions.length;c++)a.completeFunctions[c].apply(a,[true]),a.completed=true;if(console.log(a.name+" loaded in AutomizySkeleton module ("+b.d.loadedPluginsCount+"/"+b.d.allPluginsCount+")"),b.d.loadedPluginsCount===b.d.allPluginsCount&&b.d.globalPluginsCount===b.d.loadedGlobalPluginsCount&&b.d.completeFunctionReady)b.d.completeFunctionReady=false,b.complete();return b},b.run=function(){var a=this;var b=false;var c=[];a.d.allPluginsCount=0,a.d.loadedPluginsCount=0;for(var d=0;d<a.d.plugins.length;d++){var e=a.d.plugins[d];if(e.inited)continue;if(e.inited=true,"undefined"===typeof AutomizyGlobalPlugins[e.name])AutomizyGlobalPlugins[e.name]={name:e.name,skipCondition:e.skipCondition,css:e.css,js:e.js,xhr:false,completed:false,completeFunctions:[e.complete]};else{if(AutomizyGlobalPlugins[e.name].completeFunctions.push(e.complete),AutomizyGlobalPlugins[e.name].completed)e.complete.apply(e,[false]);else b=true,a.d.globalPluginsCount++,AutomizyGlobalPlugins[e.name].xhr.always(function(){if(a.d.loadedGlobalPluginsCount++,a.d.loadedPluginsCount===a.d.allPluginsCount&&a.d.globalPluginsCount===a.d.loadedGlobalPluginsCount&&a.d.completeFunctionReady)a.d.completeFunctionReady=false,a.complete()});continue}var f=AutomizyGlobalPlugins[e.name];if(f.skipCondition){f.completed=true,f.completeFunctions[0].apply(f,[false]);continue}for(var g=0;g<f.css.length;g++){var h=document.getElementsByTagName("head")[0];var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=f.css[g],h.appendChild(i)}b=true,function(b){var d=[];if(a.d.allPluginsCount++,b.js.length<=0)c.push(b);else{for(var e=0;e<b.js.length;e++)d.push($.getScript(b.js[e]));b.xhr=$.when.apply(null,d).always(function(){a.pluginThen(b)})}}(f)}for(var d=0;d<c.length;d++)a.pluginThen(c[d]);if(!b)a.complete();return a},b.complete=function(a){var b=this;if("function"===typeof a)return b.d.completeFunctionReady=true,b.d.completeFunctions.push({inited:false,func:a}),b;var c=b.d.completeFunctions.length;for(var d=0;d<c;d++){if(b.d.completeFunctions[d].inited)continue;b.d.completeFunctions[d].inited=true,b.d.completeFunctions[d].func.apply(b,[])}return b},$AM.pluginLoader=new a}(),function(){$AM.runTheFunctions=function(a,b,c){var a=a||[];var b=b||$AM;var c=c||[];for(var d=0;d<a.length;d++)a[d].apply(b,c)}}(),function(){$AM.functions.pluginsLoadedFunctions=[],$AM.pluginsLoaded=function(a){if("function"===typeof a){if($AM.functions.pluginsLoadedFunctions.push(a),$AM.automizyPluginsLoaded)a.apply($AM,[]);return $AM}return $AM.runTheFunctions($AM.functions.pluginsLoadedFunctions,$AM,[]),$AM.automizyPluginsLoaded=true,$AM}}(),function(){$AM.loadPlugins=function(){(function(){if("undefined"===typeof window.jQuery){var a=document.createElement("SCRIPT");a.src=$AM.config.dir+"/vendor/jquery/jquery.min.js",a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a)}var b=function(a){if("function"===typeof window.jQuery)a(jQuery);else window.setTimeout(function(){b(a)},100)};b(function(a){function b(a,b){var c=document.createElement("span");if(c.className=a,c.style.display="none",document.body.insertBefore(c,document.body.firstChild),window.getComputedStyle(c,null).getPropertyValue("font-family")===b)return document.body.removeChild(c),true;return document.body.removeChild(c),false}$AM.pluginLoader.plugins([{name:"fontAwesome",skipCondition:b("fa","FontAwesome"),css:$AM.config.dir+"/vendor/fontawesome/css/font-awesome.min.css"},{name:"automizyIconSet",skipCondition:b("automizy-icon","Automizy-Icon-Set"),css:$AM.config.dir+"/vendor/automizy-icon-set/automizy-icon-set.css"}]).complete(function(){$AM.pluginsLoaded()}).run()})})()}}(),function(){$AM.init=function(){if("undefined"===typeof $AM.automizyInited)$AM.automizyInited=false;if(!$AM.automizyInited)$AM.automizyInited=true,$AM.loadPlugins();return $AM}}(),function(){$AM.baseDir=function(a){if("undefined"!==typeof a)return $AM.config.dir=a,$AM;return $AM.config.dir}}(),function(){$AM.functions.layoutReadyFunctions=[],$AM.layoutReady=function(a){if("function"===typeof a){if($AM.functions.layoutReadyFunctions.push(a),$AM.automizyLayoutReady)a.apply($AM,[]);return $AM}return $AM.runTheFunctions($AM.functions.layoutReadyFunctions),$AM.automizyLayoutReady=true,$AM}}(),function(){$AM.functions.readyFunctions=[],$AM.ready=function(a){if("function"===typeof a){if($AM.functions.readyFunctions.push(a),$AM.automizyReady)a.apply($AM,[]);return $AM}return $AM.runTheFunctions($AM.functions.readyFunctions),$AM.automizyReady=true,$AM}}(),function(){$AM.addMenuItem=function(){var a=new $AM.modules.menuItem;return a.widget().appendTo($AM.$menuBox),$AM.menuItems.push(a),a}}(),function(){$AM.addSeparator=function(){return $('<div class="automizy-menu-separator"></div>').appendTo($AM.$menuBox),$AM}}(),function(){$AM.logo=function(a,b){if("undefined"!==typeof a)$AM.logoNormal(a);if("undefined"!==typeof b)$AM.logoIcon(b);return $AM}}(),function(){$AM.logoNormal=function(a){if("undefined"!==typeof a)return $AM.ready(function(){$AM.$logoNormal.attr("src",a)}),$AM;return $AM.$logoNormal.attr("src")}}(),function(){$AM.logoIcon=function(a){if("undefined"!==typeof a)return $AM.ready(function(){$AM.$logoIcon.attr("src",a)}),$AM;return $AM.$logoIcon.attr("src")}}(),function(){$AM.closeAllMenu=function(){for(var a=0;a<$AM.menuItems.length;a++)$AM.menuItems[a].close()}}(),function(){$AM.functions.logoClick=function(){},$AM.logoClick=function(a){if("undefined"!==typeof a)return $AM.functions.logoClick=a,$AM;return $AM.functions.logoClick.apply($AM,[$AM]),$AM}}(),function(){$AM.modules.menuItem=function(){var a=this;a.d={$widget:$('<div class="automizy-menu-menuitem"></div>'),$menuItemBox:$('<table class="automizy-menu-menuitem-box" cellpadding="0" cellspacing="0" border="0"></table>'),$menuItemRow:$("<tr></tr>"),$menuItemIconCell:$('<td class="automizy-menu-menuitem-icon-cell"></td>'),$menuItemContentCell:$('<td class="automizy-menu-menuitem-content-cell"></td>'),$menuItemArrowCell:$('<td class="automizy-menu-menuitem-arrow-cell"></td>'),$icon:$('<span class="automizy-menu-menuitem-icon fa fa-flash"></span>'),$content:$('<span class="automizy-menu-menuitem-content"></span>'),$arrow:$('<span class="automizy-menu-menuitem-arrow fa fa-angle-right"></span>'),$subMenuItemBox:$('<div class="automizy-menu-submenuitem-list"></div>'),opened:false,content:"",icon:"fa fa-flash",name:"",click:function(){},subMenus:[]},a.d.$menuItemBox.appendTo(a.d.$widget),a.d.$menuItemRow.appendTo(a.d.$menuItemBox),a.d.$menuItemIconCell.appendTo(a.d.$menuItemRow),a.d.$menuItemContentCell.appendTo(a.d.$menuItemRow),a.d.$menuItemArrowCell.appendTo(a.d.$menuItemRow),a.d.$icon.appendTo(a.d.$menuItemIconCell),a.d.$content.appendTo(a.d.$menuItemContentCell),a.d.$arrow.appendTo(a.d.$menuItemArrowCell),a.d.$subMenuItemBox.appendTo(a.d.$widget),a.d.$menuItemBox.click(function(){if(a.click(),a.d.subMenus.length>0)a.toggle()})};var a=$AM.modules.menuItem.prototype;a.widget=function(){return this.d.$widget},a.name=function(a){var b=this;if("undefined"!==typeof a)return b.d.name=a,b;return b.d.name},a.open=function(){var a=this;return $AM.closeAllMenu(),a.d.opened=true,a.widget().addClass("automizy-active"),a.d.$subMenuItemBox.stop().slideDown(),a.d.$arrow.removeClass("fa-angle-right").addClass("fa-angle-down"),a},a.close=function(){var a=this;return a.d.opened=false,a.d.$subMenuItemBox.stop().slideUp(),a.widget().removeClass("automizy-active"),a.d.$arrow.removeClass("fa-angle-down").addClass("fa-angle-right"),a},a.toggle=function(){var a=this;if(false===a.d.opened)a.open();else a.close();return a},a.click=function(a){var b=this;if("undefined"!==typeof a)return b.d.click=a,b;return b.d.click.apply(b,[b]),b},a.content=a.html=a.text=function(a){var b=this;if("undefined"!==typeof a){if(b.d.content=a,b.d.$content.empty(),"object"===typeof b.d.content)if("function"===typeof b.d.content.drawTo)b.d.content.drawTo(b.d.$content);else if("function"===typeof b.d.content.appendTo)b.d.content.appendTo(b.d.$content);else b.d.$content.html(b.d.content);else b.d.$content.html(b.d.content);return b}return b.d.content},a.icon=function(a,b){var c=this;if("undefined"!==typeof a){if(c.d.icon=a,false===c.d.icon)c.widget().removeClass("automizy-has-icon");else if(true===c.d.icon)c.widget().addClass("automizy-has-icon");else{c.widget().addClass("automizy-has-icon");var b=b||"fa";if("fa"===b)c.d.$icon.removeClass(function(a,b){return(b.match(/(^|\s)fa-\S+/g)||[]).join(" ")}).addClass("fa").addClass(a)}return c}return c.d.icon||false},a.addSubMenu=function(){var a=this;var b=new $AM.modules.subMenuItem;return b.parent(a),b},a.removeSubMenu=function(a){var b=this;for(var c=0;c<b.d.subMenus.length;c++)if(b.d.subMenus[c].name===a)b.d.subMenus[c].remove();return b}}(),function(){$AM.modules.subMenuItem=function(){var a=this;a.d={$widget:$('<div class="automizy-menu-submenuitem"></div>'),$icon:$('<span class="automizy-menu-submenuitem-icon fa fa-circle"></span>'),$content:$('<span class="automizy-menu-submenuitem-content"></span>'),parent:false,click:function(){},content:"",icon:"fa fa-circle",name:""},a.d.$icon.appendTo(a.d.$widget),a.d.$content.appendTo(a.d.$widget),a.d.$widget.click(function(){a.click()})};var a=$AM.modules.subMenuItem.prototype;a.widget=function(){return this.d.$widget},a.name=function(a){var b=this;if("undefined"!==typeof a)return delete $AM.subMenuList[b.d.name],b.d.name=a,$AM.subMenuList[b.d.name]=b,b;return b.d.name},a.click=function(a){var b=this;if("undefined"!==typeof a)return b.d.click=a,b;return b.d.click.apply(b,[b]),b.active(),b},a.active=function(){var a=this;return $AM.$menuBox.find(".automizy-menu-submenuitem").removeClass("automizy-active"),a.widget().addClass("automizy-active"),a.parent().open(),a},a.content=a.html=a.text=function(a){var b=this;if("undefined"!==typeof a){if(b.d.content=a,b.d.$content.empty(),"object"===typeof b.d.content)if("function"===typeof b.d.content.drawTo)b.d.content.drawTo(b.d.$content);else if("function"===typeof b.d.content.appendTo)b.d.content.appendTo(b.d.$content);else b.d.$content.html(b.d.content);else b.d.$content.html(b.d.content);return b}return b.d.content},a.icon=function(a,b){var c=this;if("undefined"!==typeof a){if(c.d.icon=a,false===c.d.icon)c.widget().removeClass("automizy-has-icon");else if(true===c.d.icon)c.widget().addClass("automizy-has-icon");else{c.widget().addClass("automizy-has-icon");var b=b||"fa";if("fa"===b)c.d.$icon.removeClass(function(a,b){return(b.match(/(^|\s)fa-\S+/g)||[]).join(" ")}).addClass("fa").addClass(a)}return c}return c.d.icon||false},a.parent=function(a){var b=this;if("undefined"!==typeof a)b.removeFromParent(),b.d.parent=a,b.d.parent.d.subMenus.push(b),b.widget().appendTo(a.d.$subMenuItemBox);return b.d.parent},a.removeFromParent=function(){var a=this;if(false!==a.d.parent)for(var b=0;b<a.d.parent.d.subMenus.length;b++)if(a.d.parent.d.subMenus[b].name===a.name())a.d.parent.d.subMenus.splice(b,1);return a},$AM.getSubMenu=function(a){for(var b=0;b<$AM.menuItems.length;b++)for(var c=0;c<$AM.menuItems[b].d.subMenus.length;c++)if($AM.menuItems[b].d.subMenus[c].name()===a)return $AM.menuItems[b].d.subMenus[c];return false}}(),function(){$AM.pluginsLoaded(function(){$AM.$tmp=$('<div id="automizy-menu-tmp"></div>'),$AM.$widget=$('<div id="automizy-menu"></div>'),$AM.$widgetTable=$('<table cellpadding="0" cellspacing="0" border="0" id="automizy-menu-table"></table>').appendTo($AM.$widget),$AM.$menuHeaderWrapper=$('<tr id="automizy-menu-tr1"></tr>').appendTo($AM.$widgetTable),$AM.$menuHeader=$('<td id="automizy-menu-header"></td>').appendTo($AM.$menuHeaderWrapper),$AM.$menuItemListWrapper=$('<tr id="automizy-menu-tr2"></tr>').appendTo($AM.$widgetTable),$AM.$menuItemList=$('<td id="automizy-menu-item-list"></td>').appendTo($AM.$menuItemListWrapper),$AM.$widgetTop=$('<div id="automizy-widget-top"></div>').appendTo($AM.$menuHeader),$AM.$logoBox=$('<div id="automizy-menu-logo-box"></div>').appendTo($AM.$widgetTop).click(function(){$AM.logoClick()}),$AM.$logoNormal=$('<img id="automizy-menu-logo-normal" src="" />').appendTo($AM.$logoBox),$AM.$mobileOpenCloseIcon=$('<span id="automizy-menu-mobile-openclose-icon"></span>').appendTo($AM.$widgetTop),$AM.$logoIcon=$('<img id="automizy-menu-logo-icon" src="" />').appendTo($AM.$logoBox),$AM.$openCloseIcon=$('<span id="automizy-menu-openclose-icon"></span>').appendTo($AM.$widgetTop),$AM.$menuBox=$('<div id="automizy-menu-menuitem-box"></div>').appendTo($AM.$menuItemList),$AM.layoutReady(),$AM.ready()})}(),function(){console.log("%c AutomizyMenu loaded! ","background: #000000; color: #bada55; font-size:14px")}();
//# sourceMappingURL=automizy-menu.min.map